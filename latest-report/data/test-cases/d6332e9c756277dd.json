{"uid":"d6332e9c756277dd","name":"Создание и поиск питомца по статусу","fullName":"tests.pet.test_pet.TestPet#test_find_pet_by_status","historyId":"6552422c8162e01a4e86a1b363683a2e","time":{"start":1744327878925,"stop":1744327888980,"duration":10055},"status":"failed","statusMessage":"AssertionError: Значение Aron не равно ожидаемому Hector Payne","statusTrace":"self = <test_pet.TestPet object at 0x7f93d6abcbf0>\nclient = <src.models.client.Client object at 0x7f93d6bd2810>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f93d67311f0>\npet_data = Pet(id=123, category=Category(id=723, name='Samantha French'), name='Hector Payne', photo_urls=['https://dummyimage.com/351x897'], tags=[Tag(id=564, name='DimGray')], status='sold')\n\n    @allure.story(\"Поиск питомцев\")\n    @allure.title(\"Создание и поиск питомца по статусу\")\n    def test_find_pet_by_status(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Поиск питомца по статусу\"):\n    \t\tresponse = pet_helper.get_pet_by_status(client, [PetStatus.AVAILABLE.value])\n>   \t\tCustomAsserts.assert_equal(response[0].name, pet_data.name)\n\ntests/pet/test_pet.py:111: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/tech/custom_asserts.py:23: in assert_equal\n    _assert_equal(value, expected_value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nval = 'Aron', expected_val = 'Hector Payne'\n\n    @step(step_name)\n    def _assert_equal(val, expected_val):\n    \tif isinstance(val, str) or isinstance(expected_val, str):\n    \t\tval = str(val)\n    \t\texpected_val = str(expected_val)\n>   \tassert val == expected_val, f\"Значение {value} не равно ожидаемому {expected_value}\"\nE    AssertionError: Значение Aron не равно ожидаемому Hector Payne\n\nsrc/tech/custom_asserts.py:21: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1744327868640,"stop":1744327868642,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1744327868642,"stop":1744327868642,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_helper","time":{"start":1744327868642,"stop":1744327868642,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_data","time":{"start":1744327878923,"stop":1744327878924,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Значение Aron не равно ожидаемому Hector Payne","statusTrace":"self = <test_pet.TestPet object at 0x7f93d6abcbf0>\nclient = <src.models.client.Client object at 0x7f93d6bd2810>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f93d67311f0>\npet_data = Pet(id=123, category=Category(id=723, name='Samantha French'), name='Hector Payne', photo_urls=['https://dummyimage.com/351x897'], tags=[Tag(id=564, name='DimGray')], status='sold')\n\n    @allure.story(\"Поиск питомцев\")\n    @allure.title(\"Создание и поиск питомца по статусу\")\n    def test_find_pet_by_status(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Поиск питомца по статусу\"):\n    \t\tresponse = pet_helper.get_pet_by_status(client, [PetStatus.AVAILABLE.value])\n>   \t\tCustomAsserts.assert_equal(response[0].name, pet_data.name)\n\ntests/pet/test_pet.py:111: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/tech/custom_asserts.py:23: in assert_equal\n    _assert_equal(value, expected_value)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nval = 'Aron', expected_val = 'Hector Payne'\n\n    @step(step_name)\n    def _assert_equal(val, expected_val):\n    \tif isinstance(val, str) or isinstance(expected_val, str):\n    \t\tval = str(val)\n    \t\texpected_val = str(expected_val)\n>   \tassert val == expected_val, f\"Значение {value} не равно ожидаемому {expected_value}\"\nE    AssertionError: Значение Aron не равно ожидаемому Hector Payne\n\nsrc/tech/custom_asserts.py:21: AssertionError","steps":[{"name":"Создание питомца","time":{"start":1744327878925,"stop":1744327878943,"duration":18},"status":"passed","steps":[{"name":"Создание питомца","time":{"start":1744327878925,"stop":1744327878943,"duration":18},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327878943,"stop":1744327878943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"570f8e6cebbb82a1","name":"Request","source":"570f8e6cebbb82a1.txt","type":"text/plain","size":39},{"uid":"19e5bffa89775379","name":"Request headers","source":"19e5bffa89775379.json","type":"application/json","size":196},{"uid":"bb09026044cceabd","name":"Request body","source":"bb09026044cceabd.json","type":"application/json","size":256},{"uid":"84c64a0c71e8914c","name":"Response status code","source":"84c64a0c71e8914c.txt","type":"text/plain","size":3},{"uid":"21f74f4e3271da7e","name":"Response Headers","source":"21f74f4e3271da7e.json","type":"application/json","size":357},{"uid":"e9111af87a619f50","name":"Response body","source":"e9111af87a619f50.json","type":"application/json","size":256}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f93d6bd2810>"},{"name":"data","value":"Pet(id=123, category=Category(id=723, name='Samantha French'), name='Hector Payne', photo_urls=['https://dummyimage.com/351x897'], tags=[Tag(id=564, name='DimGray')], status='sold')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'Hector Payne' равно 'Hector Payne'","time":{"start":1744327878943,"stop":1744327878943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'Hector Payne'"},{"name":"expected_val","value":"'Hector Payne'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Поиск питомца по статусу","time":{"start":1744327888944,"stop":1744327888980,"duration":36},"status":"failed","statusMessage":"AssertionError: Значение Aron не равно ожидаемому Hector Payne\n","statusTrace":"  File \"/home/runner/work/python-pytest-api/python-pytest-api/tests/pet/test_pet.py\", line 111, in test_find_pet_by_status\n    CustomAsserts.assert_equal(response[0].name, pet_data.name)\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 23, in assert_equal\n    _assert_equal(value, expected_value)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 21, in _assert_equal\n    assert val == expected_val, f\"Значение {value} не равно ожидаемому {expected_value}\"\n           ^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Получение информации о питомцах по статусу","time":{"start":1744327888944,"stop":1744327888979,"duration":35},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327888976,"stop":1744327888976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5448cd6938cb339e","name":"Request","source":"5448cd6938cb339e.txt","type":"text/plain","size":51},{"uid":"f3a3c303f1778758","name":"Request headers","source":"f3a3c303f1778758.json","type":"application/json","size":169},{"uid":"61f1c860a13da18d","name":"Request params","source":"61f1c860a13da18d.json","type":"application/json","size":41},{"uid":"b055db4930005223","name":"Response status code","source":"b055db4930005223.txt","type":"text/plain","size":3},{"uid":"2bfa02cc22f1c9b5","name":"Response Headers","source":"2bfa02cc22f1c9b5.json","type":"application/json","size":357},{"uid":"f0b5ee9ce2055ba4","name":"Response body","source":"f0b5ee9ce2055ba4.json","type":"application/json","size":116010}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f93d6bd2810>"},{"name":"pet_status","value":"['available']"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'Aron' равно 'Hector Payne'","time":{"start":1744327888979,"stop":1744327888979,"duration":0},"status":"failed","statusMessage":"AssertionError: Значение Aron не равно ожидаемому Hector Payne\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 21, in _assert_equal\n    assert val == expected_val, f\"Значение {value} не равно ожидаемому {expected_value}\"\n           ^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'Aron'"},{"name":"expected_val","value":"'Hector Payne'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":12,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"story","value":"Поиск питомцев"},{"name":"epic","value":"Petstore API"},{"name":"feature","value":"Pet"},{"name":"parentSuite","value":"tests.pet"},{"name":"suite","value":"test_pet"},{"name":"subSuite","value":"TestPet"},{"name":"host","value":"fv-az1065-663"},{"name":"thread","value":"2302-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.pet.test_pet"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"d6332e9c756277dd.json","parameterValues":[]}