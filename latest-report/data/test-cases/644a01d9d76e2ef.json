{"uid":"644a01d9d76e2ef","name":"Создание заказа с невалидным ID питомца","fullName":"tests.store.test_store.TestStore#test_create_order_with_invalid_pet_id","historyId":"c442710fc05df49b1520c8bfe644d2a0","time":{"start":1744327889373,"stop":1744327889385,"duration":12},"status":"failed","statusMessage":"AssertionError: Статус код 200 не равен ожидаемому 500","statusTrace":"self = <test_store.TestStore object at 0x7f3c7d725d90>\nclient = <src.models.client.Client object at 0x7f3c7d72a6f0>\nstore_helper = <src.func.store.helpers.StoreHelper object at 0x7f3c7d72adb0>\norder_data = Order(id=994, pet_id=-50517269, quantity=10, ship_date='1976-05-09T03:53:15.336777', status='placed', complete=True)\n\n    @allure.title(\"Создание заказа с невалидным ID питомца\")\n    def test_create_order_with_invalid_pet_id(self, client, store_helper, order_data):\n    \torder_data.pet_id = random.randint(-100000000, -1)\n>   \tresponse = store_helper.place_order(client, order_data, expected_status_code=500)\n\ntests/store/test_store.py:100: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/store/helpers.py:34: in place_order\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [200]>, expected_code = 500\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 200 не равен ожидаемому 500\n\nsrc/tech/custom_asserts.py:51: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1744327868637,"stop":1744327868639,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1744327868639,"stop":1744327868639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_helper","time":{"start":1744327889040,"stop":1744327889040,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"order_data","time":{"start":1744327889371,"stop":1744327889372,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Статус код 200 не равен ожидаемому 500","statusTrace":"self = <test_store.TestStore object at 0x7f3c7d725d90>\nclient = <src.models.client.Client object at 0x7f3c7d72a6f0>\nstore_helper = <src.func.store.helpers.StoreHelper object at 0x7f3c7d72adb0>\norder_data = Order(id=994, pet_id=-50517269, quantity=10, ship_date='1976-05-09T03:53:15.336777', status='placed', complete=True)\n\n    @allure.title(\"Создание заказа с невалидным ID питомца\")\n    def test_create_order_with_invalid_pet_id(self, client, store_helper, order_data):\n    \torder_data.pet_id = random.randint(-100000000, -1)\n>   \tresponse = store_helper.place_order(client, order_data, expected_status_code=500)\n\ntests/store/test_store.py:100: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/func/store/helpers.py:34: in place_order\n    CustomAsserts.check_status_code(response, expected_status_code)\nsrc/tech/custom_asserts.py:53: in check_status_code\n    _check_status_code(response, expected_status_code)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [200]>, expected_code = 500\n\n    @step(f\"Статус код = {expected_status_code}\")\n    def _check_status_code(resp, expected_code):\n>   \tassert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\nE    AssertionError: Статус код 200 не равен ожидаемому 500\n\nsrc/tech/custom_asserts.py:51: AssertionError","steps":[{"name":"Создание заказа","time":{"start":1744327889373,"stop":1744327889385,"duration":12},"status":"failed","statusMessage":"AssertionError: Статус код 200 не равен ожидаемому 500\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/func/store/helpers.py\", line 34, in place_order\n    CustomAsserts.check_status_code(response, expected_status_code)\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 53, in check_status_code\n    _check_status_code(response, expected_status_code)\n  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"Статус код = 500","time":{"start":1744327889385,"stop":1744327889385,"duration":0},"status":"failed","statusMessage":"AssertionError: Статус код 200 не равен ожидаемому 500\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.9/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/python-pytest-api/python-pytest-api/src/tech/custom_asserts.py\", line 51, in _check_status_code\n    assert resp.status_code == expected_code, f\"Статус код {resp.status_code} не равен ожидаемому {expected_code}\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"500"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2539c5b834517d49","name":"Request","source":"2539c5b834517d49.txt","type":"text/plain","size":47},{"uid":"20f46a27b8187b02","name":"Request headers","source":"20f46a27b8187b02.json","type":"application/json","size":196},{"uid":"d5c517a9e5ffe694","name":"Request body","source":"d5c517a9e5ffe694.json","type":"application/json","size":141},{"uid":"dac25f2b9523d825","name":"Response status code","source":"dac25f2b9523d825.txt","type":"text/plain","size":3},{"uid":"4e41ae78e11951cc","name":"Response Headers","source":"4e41ae78e11951cc.json","type":"application/json","size":357},{"uid":"e46c9428628af1ec","name":"Response body","source":"e46c9428628af1ec.json","type":"application/json","size":143}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f3c7d72a6f0>"},{"name":"data","value":"Order(id=994, pet_id=-50517269, quantity=10, ship_date='1976-05-09T03:53:15.336777', status='placed', complete=True)"},{"name":"expected_status_code","value":"500"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"Store"},{"name":"epic","value":"Petstore API"},{"name":"tag","value":"store"},{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_store"},{"name":"subSuite","value":"TestStore"},{"name":"host","value":"fv-az1065-663"},{"name":"thread","value":"2296-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_store"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["store"]},"source":"644a01d9d76e2ef.json","parameterValues":[]}