{"uid":"7fa8a9e1d1c8001b","name":"Создание и удаление тега у питомца","fullName":"tests.pet.test_pet.TestPet#test_delete_pet_tag","historyId":"349ea8bb5df1cfb76577eb7d4245450c","time":{"start":1744327878934,"stop":1744327889000,"duration":10066},"status":"failed","statusMessage":"AssertionError: assert Tag(id=2, name='fluffy') not in [Tag(id=2, name='fluffy')]\n +  where [Tag(id=2, name='fluffy')] = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold').tags","statusTrace":"self = <test_pet.TestPet object at 0x7f3c7dad6270>\nclient = <src.models.client.Client object at 0x7f3c7d72a6f0>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f3c7d72a7b0>\npet_data = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=None, status='sold')\n\n    @allure.story(\"Обновление информации о питомцах\")\n    @allure.title(\"Создание и удаление тега у питомца\")\n    def test_delete_pet_tag(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Добавление тега питомцу\"):\n    \t\ttag = Tag(id=2, name=\"fluffy\")\n    \t\tpet_data.tags = [tag]\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags[0].id, tag.id)\n    \n    \twith allure.step(\"Удаление тега у питомца\"):\n    \t\tpet_data.tags = None\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags, [])\n    \n    \twith allure.step(\"Проверка удаления тега у питомца\"):\n    \t\tresponse = pet_helper.get_pet(client, pet_data.id)\n>   \t\tassert tag not in response.tags\nE     AssertionError: assert Tag(id=2, name='fluffy') not in [Tag(id=2, name='fluffy')]\nE      +  where [Tag(id=2, name='fluffy')] = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold').tags\n\ntests/pet/test_pet.py:172: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1744327868637,"stop":1744327868639,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_helper","time":{"start":1744327868639,"stop":1744327868640,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"client","time":{"start":1744327868639,"stop":1744327868639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pet_data","time":{"start":1744327878931,"stop":1744327878933,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert Tag(id=2, name='fluffy') not in [Tag(id=2, name='fluffy')]\n +  where [Tag(id=2, name='fluffy')] = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold').tags","statusTrace":"self = <test_pet.TestPet object at 0x7f3c7dad6270>\nclient = <src.models.client.Client object at 0x7f3c7d72a6f0>\npet_helper = <src.func.pet.helpers.PetHelper object at 0x7f3c7d72a7b0>\npet_data = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=None, status='sold')\n\n    @allure.story(\"Обновление информации о питомцах\")\n    @allure.title(\"Создание и удаление тега у питомца\")\n    def test_delete_pet_tag(self, client, pet_helper, pet_data):\n    \twith allure.step(\"Создание питомца\"):\n    \t\tresponse = pet_helper.create_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.name, pet_data.name)\n    \n    \ttime.sleep(10)\n    \n    \twith allure.step(\"Добавление тега питомцу\"):\n    \t\ttag = Tag(id=2, name=\"fluffy\")\n    \t\tpet_data.tags = [tag]\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags[0].id, tag.id)\n    \n    \twith allure.step(\"Удаление тега у питомца\"):\n    \t\tpet_data.tags = None\n    \t\tresponse = pet_helper.update_pet(client, pet_data)\n    \t\tCustomAsserts.assert_equal(response.tags, [])\n    \n    \twith allure.step(\"Проверка удаления тега у питомца\"):\n    \t\tresponse = pet_helper.get_pet(client, pet_data.id)\n>   \t\tassert tag not in response.tags\nE     AssertionError: assert Tag(id=2, name='fluffy') not in [Tag(id=2, name='fluffy')]\nE      +  where [Tag(id=2, name='fluffy')] = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold').tags\n\ntests/pet/test_pet.py:172: AssertionError","steps":[{"name":"Создание питомца","time":{"start":1744327878934,"stop":1744327878949,"duration":15},"status":"passed","steps":[{"name":"Создание питомца","time":{"start":1744327878934,"stop":1744327878949,"duration":15},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327878949,"stop":1744327878949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"126b661b7502d0e2","name":"Request","source":"126b661b7502d0e2.txt","type":"text/plain","size":39},{"uid":"64d12416b480a97a","name":"Request headers","source":"64d12416b480a97a.json","type":"application/json","size":196},{"uid":"150e4db942be35e7","name":"Request body","source":"150e4db942be35e7.json","type":"application/json","size":252},{"uid":"f732baa12885cafd","name":"Response status code","source":"f732baa12885cafd.txt","type":"text/plain","size":3},{"uid":"38a79dd034573e93","name":"Response Headers","source":"38a79dd034573e93.json","type":"application/json","size":357},{"uid":"50eb0e1c6c48ed73","name":"Response body","source":"50eb0e1c6c48ed73.json","type":"application/json","size":252}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f3c7d72a6f0>"},{"name":"data","value":"Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=856, name='SeaShell')], status='sold')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что 'William Jones' равно 'William Jones'","time":{"start":1744327878949,"stop":1744327878949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"'William Jones'"},{"name":"expected_val","value":"'William Jones'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Добавление тега питомцу","time":{"start":1744327888949,"stop":1744327888964,"duration":15},"status":"passed","steps":[{"name":"Обновление информации о питомце","time":{"start":1744327888949,"stop":1744327888964,"duration":15},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327888964,"stop":1744327888964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"10ca883c0f0dc2a0","name":"Request","source":"10ca883c0f0dc2a0.txt","type":"text/plain","size":38},{"uid":"4c71c71017d9e4aa","name":"Request headers","source":"4c71c71017d9e4aa.json","type":"application/json","size":196},{"uid":"dc9578d0be1f9ebc","name":"Request body","source":"dc9578d0be1f9ebc.json","type":"application/json","size":248},{"uid":"30404c2abf0c6817","name":"Response status code","source":"30404c2abf0c6817.txt","type":"text/plain","size":3},{"uid":"73ac74279cfbb422","name":"Response Headers","source":"73ac74279cfbb422.json","type":"application/json","size":357},{"uid":"535e9930c539a266","name":"Response body","source":"535e9930c539a266.json","type":"application/json","size":248}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f3c7d72a6f0>"},{"name":"data","value":"Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что '2' равно '2'","time":{"start":1744327888964,"stop":1744327888964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"2"},{"name":"expected_val","value":"2"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Удаление тега у питомца","time":{"start":1744327888964,"stop":1744327888981,"duration":17},"status":"passed","steps":[{"name":"Обновление информации о питомце","time":{"start":1744327888965,"stop":1744327888981,"duration":16},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327888981,"stop":1744327888981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1fd7b691fb68b221","name":"Request","source":"1fd7b691fb68b221.txt","type":"text/plain","size":38},{"uid":"5eb3866807249c78","name":"Request headers","source":"5eb3866807249c78.json","type":"application/json","size":196},{"uid":"30d4029632eeb17a","name":"Request body","source":"30d4029632eeb17a.json","type":"application/json","size":181},{"uid":"dc439cc9b7810742","name":"Response status code","source":"dc439cc9b7810742.txt","type":"text/plain","size":3},{"uid":"99a2271a38f00660","name":"Response Headers","source":"99a2271a38f00660.json","type":"application/json","size":357},{"uid":"63699ab6d43b4286","name":"Response body","source":"63699ab6d43b4286.json","type":"application/json","size":195}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f3c7d72a6f0>"},{"name":"data","value":"Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=None, status='sold')"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка, что '[]' равно '[]'","time":{"start":1744327888981,"stop":1744327888981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"val","value":"[]"},{"name":"expected_val","value":"[]"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":6,"hasContent":true,"attachmentStep":false},{"name":"Проверка удаления тега у питомца","time":{"start":1744327888981,"stop":1744327888999,"duration":18},"status":"failed","statusMessage":"AssertionError: assert Tag(id=2, name='fluffy') not in [Tag(id=2, name='fluffy')]\n +  where [Tag(id=2, name='fluffy')] = Pet(id=283, category=Category(id=536, name='Wayne York'), name='William Jones', photo_urls=['https://picsum.photos/765/308'], tags=[Tag(id=2, name='fluffy')], status='sold').tags\n","statusTrace":"  File \"/home/runner/work/python-pytest-api/python-pytest-api/tests/pet/test_pet.py\", line 172, in test_delete_pet_tag\n    assert tag not in response.tags\n","steps":[{"name":"Получение информации о питомце по ID","time":{"start":1744327888982,"stop":1744327888999,"duration":17},"status":"passed","steps":[{"name":"Статус код = 200","time":{"start":1744327888999,"stop":1744327888999,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"resp","value":"<Response [200]>"},{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"3ae69257aada9cf0","name":"Request","source":"3ae69257aada9cf0.txt","type":"text/plain","size":42},{"uid":"3ab222db39325ce2","name":"Request headers","source":"3ab222db39325ce2.json","type":"application/json","size":169},{"uid":"ba4a25436c1bef8d","name":"Response status code","source":"ba4a25436c1bef8d.txt","type":"text/plain","size":3},{"uid":"d8a8be80bd07adf5","name":"Response Headers","source":"d8a8be80bd07adf5.json","type":"application/json","size":357},{"uid":"ff004e64dc30bd89","name":"Response body","source":"ff004e64dc30bd89.json","type":"application/json","size":248}],"parameters":[{"name":"client","value":"<src.models.client.Client object at 0x7f3c7d72a6f0>"},{"name":"pet_id","value":"283"},{"name":"expected_status_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":5,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":15,"attachmentsCount":23,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"story","value":"Обновление информации о питомцах"},{"name":"feature","value":"Pet"},{"name":"epic","value":"Petstore API"},{"name":"parentSuite","value":"tests.pet"},{"name":"suite","value":"test_pet"},{"name":"subSuite","value":"TestPet"},{"name":"host","value":"fv-az1065-663"},{"name":"thread","value":"2296-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.pet.test_pet"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"7fa8a9e1d1c8001b.json","parameterValues":[]}